import './polyfills.server.mjs';
import{a as l,b as c}from"./chunk-5HMIRNXG.mjs";import{c as h,g as t,l as d,o,ub as n,vb as p,wb as u}from"./chunk-K56BL7BW.mjs";var b=(s=>(s.PENDING="pending",s.PROCESSING="processing",s.SHIPPED="shipped",s.DELIVERED="delivered",s))(b||{}),g=class a{constructor(r,e){this.http=r;this.authService=e}apiUrl=l.apiUrl;getAuthHeaders(){let r=this.authService.getToken();if(!r)throw new Error("No authentication token found");return new n({Authorization:`Bearer ${r}`})}handleError(r){let e="An unknown error occurred!";return r.error instanceof ErrorEvent?e=`Error: ${r.error.message}`:e=`Error ${r.status}: ${r.error?.detail||r.message}`,h(()=>new Error(e))}getCategories(){return this.http.get(`${this.apiUrl}/categories`).pipe(t(this.handleError))}addCategory(r){return this.http.post(`${this.apiUrl}/categories`,r,{headers:this.getAuthHeaders()}).pipe(t(this.handleError))}updateCategory(r,e){return this.http.put(`${this.apiUrl}/categories/${r}`,e,{headers:this.getAuthHeaders()}).pipe(t(this.handleError))}deleteCategory(r){return this.http.delete(`${this.apiUrl}/categories/${r}`,{headers:this.getAuthHeaders()}).pipe(t(this.handleError))}getProducts(r,e){let i=new p;return r&&(i=i.set("category",r)),e&&(i=i.set("sortBy",e)),this.http.get(`${this.apiUrl}/products`,{params:i}).pipe(t(this.handleError))}getProductById(r){return this.http.get(`${this.apiUrl}/products/${r}`).pipe(t(this.handleError))}addProduct(r){return this.http.post(`${this.apiUrl}/products`,r,{headers:this.getAuthHeaders()}).pipe(t(this.handleError))}updateProduct(r,e){return this.http.put(`${this.apiUrl}/products/${r}`,e,{headers:this.getAuthHeaders()}).pipe(t(this.handleError))}deleteProduct(r){return this.http.delete(`${this.apiUrl}/products/${r}`,{headers:this.getAuthHeaders()}).pipe(t(this.handleError))}getOrders(){return this.http.get(`${this.apiUrl}/orders`,{headers:this.getAuthHeaders()}).pipe(t(this.handleError))}updateOrderStatus(r,e){return this.http.put(`${this.apiUrl}/orders/orderStatus/${r}`,{status:e},{headers:this.getAuthHeaders()}).pipe(t(this.handleError))}updateOrde(r,e){return this.http.put(`${this.apiUrl}/orders/${r}`,{order:e},{headers:this.getAuthHeaders()}).pipe(t(this.handleError))}createOrder(r){return this.http.post(`${this.apiUrl}/orders`,r,{headers:this.getAuthHeaders()}).pipe(t(this.handleError))}deleteOrder(r){return this.http.delete(`${this.apiUrl}/orders/${r}`,{headers:this.getAuthHeaders()}).pipe(t(this.handleError))}getUser(){return this.http.get(`${this.apiUrl}/auth/users/me`,{headers:this.getAuthHeaders()}).pipe(t(this.handleError))}static \u0275fac=function(e){return new(e||a)(o(u),o(c))};static \u0275prov=d({token:a,factory:a.\u0275fac,providedIn:"root"})};export{b as a,g as b};
