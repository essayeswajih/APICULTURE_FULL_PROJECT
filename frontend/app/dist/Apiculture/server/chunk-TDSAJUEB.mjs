import './polyfills.server.mjs';
import{b as D}from"./chunk-MZUSUFQ7.mjs";import{a as T}from"./chunk-IFDW36NG.mjs";import{w as R}from"./chunk-CWBHHODJ.mjs";import{Ba as h,Ga as s,H as f,Ha as v,Hb as k,Ia as m,P as i,R as l,S as u,Ta as y,ca as C,da as _,ga as x,ha as O,ib as w,ja as r,jb as E,ka as t,kb as S,la as p,mb as I,oa as g,pb as z,ra as b,sa as n,ta as P,ua as d,va as M}from"./chunk-HQHJAHDZ.mjs";import"./chunk-T55IDOPT.mjs";var A=(o,a)=>a.product_id;function V(o,a){if(o&1&&(r(0,"li",17)(1,"span"),n(2),t(),r(3,"span"),n(4),s(5,"number"),t()()),o&2){let e=a.$implicit;i(2),M("",e.product_id," (x",e.quantity,")"),i(2),d("",m(5,3,e.price,"1.2-2")," DT")}}function B(o,a){if(o&1&&(r(0,"div",6)(1,"div",9)(2,"div",10)(3,"div",11)(4,"h5",12),n(5),t(),r(6,"div",13)(7,"p",14)(8,"strong"),n(9,"Client :"),t(),n(10),t(),r(11,"p",14)(12,"strong"),n(13,"Email :"),t(),n(14),t(),r(15,"p",14)(16,"strong"),n(17,"T\xE9l\xE9phone :"),t(),n(18),t(),r(19,"p",14)(20,"strong"),n(21,"Adresse :"),t(),n(22),t()(),r(23,"h6",15),n(24,"Articles"),t(),r(25,"ul",16),x(26,V,6,6,"li",17,A),t(),r(28,"div",18)(29,"p",19)(30,"strong"),n(31,"Total :"),t(),n(32),s(33,"number"),t(),r(34,"p",14)(35,"strong"),n(36,"Statut :"),t(),r(37,"span"),n(38),s(39,"titlecase"),t()(),r(40,"p",14)(41,"strong"),n(42,"Cr\xE9\xE9e le :"),t(),n(43),s(44,"date"),t()()()()()()),o&2){let e=g();i(5),d("Commande #",e.order.code),i(5),d(" ",e.order.username),i(4),d(" ",e.order.email),i(4),d(" ",e.order.telephone),i(4),d(" ",e.order.location),i(4),O(e.order.items),i(6),d(" ",m(33,11,e.order.total_amount,"1.2-2")," DT"),i(5),b(h("status ",e.order.status)),i(),P(v(39,14,e.order.status)),i(5),d(" ",m(44,16,e.order.created_at,"medium"))}}function F(o,a){if(o&1&&(r(0,"div",7),n(1),p(2,"button",20),t()),o&2){let e=g();i(),d(" ",e.error," ")}}function q(o,a){o&1&&(r(0,"div",8)(1,"div",21)(2,"span",22),n(3,"Chargement..."),t()(),n(4," Chargement des d\xE9tails de la commande... "),t())}var j=class o{constructor(a,e,c,N){this.apiService=a;this.route=e;this.platformId=c;this.cdRef=N}order=null;error=null;ngOnInit(){this.route.queryParams.subscribe(a=>{let e=a.ordercode;e?this.loadOrder(e):(this.error="No order code provided",this.cdRef.detectChanges())})}loadOrder(a){this.apiService.getOrderByCode(a).subscribe({next:e=>{this.order=e,this.error=null,this.cdRef.detectChanges(),z(this.platformId)&&setTimeout(()=>{let c=document.querySelector(".card");c&&T.from(c,{opacity:0,y:20,duration:.5})},0)},error:e=>{this.error="Order not found or invalid order code",this.order=null,this.cdRef.detectChanges()}})}static \u0275fac=function(e){return new(e||o)(l(D),l(k),l(f),l(y))};static \u0275cmp=u({type:o,selectors:[["app-client-order-view"]],decls:12,vars:1,consts:[[1,"hero","py-6","text-center","bg-light-amber","position-relative",2,"background-image","url('/assets/images/pexels-pixabay-301378.jpg')","background-size","cover","background-position","bottom"],[1,"container-md"],[1,"hero-overlay"],[1,"display-3","text-amber","mb-4","client-order-section"],[1,"lead","text-success","mb-0","client-order-section"],[1,"container","py-5"],[1,"row","justify-content-center"],["role","alert",1,"alert","alert-danger","alert-dismissible","fade","show"],["role","alert",1,"alert","alert-info"],[1,"col-md-8","col-lg-6"],[1,"card","order-card","shadow-sm"],[1,"card-body"],[1,"card-title"],[1,"order-details"],[1,"card-text"],[1,"items-title","mt-4"],[1,"list-group","item-list","mb-3"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],[1,"order-summary","mt-4"],[1,"card-text","total"],["type","button","data-bs-dismiss","alert","aria-label","Close",1,"btn-close"],["role","status",1,"spinner-border","spinner-border-sm","me-2"],[1,"visually-hidden"]],template:function(e,c){e&1&&(r(0,"main")(1,"section",0)(2,"div",1),p(3,"div",2),r(4,"h1",3),n(5,"D\xE9tails de votre commande"),t(),r(6,"p",4),n(7,"D\xE9couvrez votre commande."),t()()(),r(8,"div",5),C(9,B,45,19,"div",6)(10,F,3,1,"div",7)(11,q,5,0,"div",8),t()()),e&2&&(i(9),_(c.order?9:c.error?10:11))},dependencies:[R,I,S,w,E],styles:[".container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:2rem 1rem}.order-title[_ngcontent-%COMP%]{color:#b45309;font-size:2.25rem;font-weight:700;text-align:center;margin-bottom:2rem;text-transform:uppercase;letter-spacing:.05em}.order-card[_ngcontent-%COMP%]{border:none;border-radius:12px;background-color:#fff;box-shadow:0 4px 12px #0000001a;transition:transform .3s ease,box-shadow .3s ease}.order-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 6px 20px #00000026}.card-body[_ngcontent-%COMP%]{padding:2rem}.card-title[_ngcontent-%COMP%]{color:#15803d;font-size:1.75rem;font-weight:600;margin-bottom:1.5rem;border-bottom:1px solid #e5e5e5;padding-bottom:.5rem}.order-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0;font-size:1rem;color:#444}.order-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#1f2937;font-weight:500}.items-title[_ngcontent-%COMP%]{color:#b45309;font-size:1.25rem;font-weight:600;margin-bottom:1rem}.item-list[_ngcontent-%COMP%]{border:none;background-color:transparent}.item-list[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{border:none;border-bottom:1px solid #e5e5e5;padding:.75rem 0;font-size:1rem;color:#444;background-color:transparent;display:flex;justify-content:space-between;align-items:center}.item-list[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.item-list[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{color:#1f2937;font-weight:500}.item-list[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{color:#15803d}.order-summary[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0;font-size:1rem;color:#444}.order-summary[_ngcontent-%COMP%]   p.total[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:#15803d}.order-summary[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#1f2937;font-weight:500}.order-summary[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{padding:.25rem .5rem;border-radius:12px;font-size:.9rem;font-weight:500;text-transform:capitalize}.order-summary[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   .status.processing[_ngcontent-%COMP%]{background-color:#fef3c7;color:#b45309}.order-summary[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   .status.shipped[_ngcontent-%COMP%]{background-color:#dcfce7;color:#15803d}.order-summary[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   .status.delivered[_ngcontent-%COMP%]{background-color:#e0f2fe;color:#1e40af}.order-summary[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   .status.cancelled[_ngcontent-%COMP%]{background-color:#fee2e2;color:#b91c1c}.alert[_ngcontent-%COMP%]{border-radius:8px;padding:1rem;font-size:1rem;text-align:center;max-width:500px;margin:2rem auto}.alert.alert-danger[_ngcontent-%COMP%]{background-color:#fee2e2;color:#b91c1c;border:1px solid #f87171}.alert.alert-info[_ngcontent-%COMP%]{background-color:#e0f2fe;color:#1e40af;border:1px solid #60a5fa;display:flex;align-items:center;justify-content:center;gap:.5rem}.btn-close[_ngcontent-%COMP%]{filter:opacity(.6);transition:filter .3s ease}.btn-close[_ngcontent-%COMP%]:hover{filter:opacity(1)}@media (max-width: 768px){.order-title[_ngcontent-%COMP%]{font-size:1.75rem}.card-title[_ngcontent-%COMP%]{font-size:1.5rem}.card-body[_ngcontent-%COMP%]{padding:1.5rem}.order-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .order-summary[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .item-list[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{font-size:.95rem}}@media (max-width: 576px){.container[_ngcontent-%COMP%]{padding:1.5rem .5rem}.order-card[_ngcontent-%COMP%]{margin:0 .5rem}}.hero[_ngcontent-%COMP%]{height:280px;display:flex;align-items:center;position:relative;background-color:#f5f1e07e;padding-top:8rem;padding-bottom:8rem}.hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:#00000080;z-index:1}main[_ngcontent-%COMP%]{background-color:#fff8e1;font-family:Roboto,sans-serif}.hero[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .hero[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{position:relative;z-index:2;text-shadow:0 2px 4px rgba(0,0,0,.2)}.text-amber[_ngcontent-%COMP%]{color:#d97706!important}"]})};export{j as ClientOrderView};
