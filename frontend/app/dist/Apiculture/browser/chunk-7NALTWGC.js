import{b as k}from"./chunk-R75VYL3N.js";import{a as R}from"./chunk-GGNV32RQ.js";import{u as T}from"./chunk-4RWHZGG3.js";import{D as i,Da as w,Ea as E,F as l,Fa as I,G as f,Ha as S,Ia as z,O as u,P as C,S as _,T as O,Ua as D,V as r,W as t,X as x,_ as p,ba as P,ca as n,da as M,ea as d,fa as b,la as v,qa as s,ra as h,sa as m,xa as y,z as g}from"./chunk-O3NCF7TX.js";import"./chunk-IMPBB4AK.js";var A=(o,a)=>a.product_id;function V(o,a){if(o&1&&(r(0,"li",13)(1,"span"),n(2),t(),r(3,"span"),n(4),s(5,"number"),t()()),o&2){let e=a.$implicit;i(2),b("",e.product_id," (x",e.quantity,")"),i(2),d("",m(5,3,e.price,"1.2-2")," DT")}}function B(o,a){if(o&1&&(r(0,"div",2)(1,"div",5)(2,"div",6)(3,"div",7)(4,"h5",8),n(5),t(),r(6,"div",9)(7,"p",10)(8,"strong"),n(9,"Customer:"),t(),n(10),t(),r(11,"p",10)(12,"strong"),n(13,"Email:"),t(),n(14),t(),r(15,"p",10)(16,"strong"),n(17,"Phone:"),t(),n(18),t(),r(19,"p",10)(20,"strong"),n(21,"Address:"),t(),n(22),t()(),r(23,"h6",11),n(24,"Items"),t(),r(25,"ul",12),_(26,V,6,6,"li",13,A),t(),r(28,"div",14)(29,"p",15)(30,"strong"),n(31,"Total:"),t(),n(32),s(33,"number"),t(),r(34,"p",10)(35,"strong"),n(36,"Status:"),t(),r(37,"span"),n(38),s(39,"titlecase"),t()(),r(40,"p",10)(41,"strong"),n(42,"Created:"),t(),n(43),s(44,"date"),t()()()()()()),o&2){let e=p();i(5),d("Order #",e.order.code),i(5),d(" ",e.order.username),i(4),d(" ",e.order.email),i(4),d(" ",e.order.telephone),i(4),d(" ",e.order.location),i(4),O(e.order.items),i(6),d(" ",m(33,11,e.order.total_amount,"1.2-2")," DT"),i(5),P(v("status ",e.order.status)),i(),M(h(39,14,e.order.status)),i(5),d(" ",m(44,16,e.order.created_at,"medium"))}}function F(o,a){if(o&1&&(r(0,"div",3),n(1),x(2,"button",16),t()),o&2){let e=p();i(),d(" ",e.error," ")}}function q(o,a){o&1&&(r(0,"div",4)(1,"div",17)(2,"span",18),n(3,"Loading..."),t()(),n(4," Loading order details... "),t())}var j=class o{constructor(a,e,c,L){this.apiService=a;this.route=e;this.platformId=c;this.cdRef=L}order=null;error=null;ngOnInit(){this.route.queryParams.subscribe(a=>{let e=a.ordercode;e?this.loadOrder(e):(this.error="No order code provided",this.cdRef.detectChanges())})}loadOrder(a){this.apiService.getOrderByCode(a).subscribe({next:e=>{this.order=e,this.error=null,this.cdRef.detectChanges(),z(this.platformId)&&setTimeout(()=>{let c=document.querySelector(".card");c&&R.from(c,{opacity:0,y:20,duration:.5})},0)},error:e=>{this.error="Order not found or invalid order code",this.order=null,this.cdRef.detectChanges()}})}static \u0275fac=function(e){return new(e||o)(l(k),l(D),l(g),l(y))};static \u0275cmp=f({type:o,selectors:[["app-client-order-view"]],decls:6,vars:1,consts:[[1,"container","py-5"],[1,"order-title","mb-4"],[1,"row","justify-content-center"],["role","alert",1,"alert","alert-danger","alert-dismissible","fade","show"],["role","alert",1,"alert","alert-info"],[1,"col-md-8","col-lg-6"],[1,"card","order-card","shadow-sm"],[1,"card-body"],[1,"card-title"],[1,"order-details"],[1,"card-text"],[1,"items-title","mt-4"],[1,"list-group","item-list","mb-3"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],[1,"order-summary","mt-4"],[1,"card-text","total"],["type","button","data-bs-dismiss","alert","aria-label","Close",1,"btn-close"],["role","status",1,"spinner-border","spinner-border-sm","me-2"],[1,"visually-hidden"]],template:function(e,c){e&1&&(r(0,"div",0)(1,"h2",1),n(2,"Your Order Details"),t(),u(3,B,45,19,"div",2)(4,F,3,1,"div",3)(5,q,5,0,"div",4),t()),e&2&&(i(3),C(c.order?3:c.error?4:5))},dependencies:[T,S,I,w,E],styles:["body[_ngcontent-%COMP%]{background-color:#fff8e1;font-family:Roboto,sans-serif;color:#333;line-height:1.6}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:2rem 1rem}.order-title[_ngcontent-%COMP%]{color:#b45309;font-size:2.25rem;font-weight:700;text-align:center;margin-bottom:2rem;text-transform:uppercase;letter-spacing:.05em}.order-card[_ngcontent-%COMP%]{border:none;border-radius:12px;background-color:#fff;box-shadow:0 4px 12px #0000001a;transition:transform .3s ease,box-shadow .3s ease}.order-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 6px 20px #00000026}.card-body[_ngcontent-%COMP%]{padding:2rem}.card-title[_ngcontent-%COMP%]{color:#15803d;font-size:1.75rem;font-weight:600;margin-bottom:1.5rem;border-bottom:1px solid #e5e5e5;padding-bottom:.5rem}.order-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0;font-size:1rem;color:#444}.order-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#1f2937;font-weight:500}.items-title[_ngcontent-%COMP%]{color:#b45309;font-size:1.25rem;font-weight:600;margin-bottom:1rem}.item-list[_ngcontent-%COMP%]{border:none;background-color:transparent}.item-list[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{border:none;border-bottom:1px solid #e5e5e5;padding:.75rem 0;font-size:1rem;color:#444;background-color:transparent;display:flex;justify-content:space-between;align-items:center}.item-list[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.item-list[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{color:#1f2937;font-weight:500}.item-list[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{color:#15803d}.order-summary[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0;font-size:1rem;color:#444}.order-summary[_ngcontent-%COMP%]   p.total[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:#15803d}.order-summary[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#1f2937;font-weight:500}.order-summary[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{padding:.25rem .5rem;border-radius:12px;font-size:.9rem;font-weight:500;text-transform:capitalize}.order-summary[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   .status.processing[_ngcontent-%COMP%]{background-color:#fef3c7;color:#b45309}.order-summary[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   .status.shipped[_ngcontent-%COMP%]{background-color:#dcfce7;color:#15803d}.order-summary[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   .status.delivered[_ngcontent-%COMP%]{background-color:#e0f2fe;color:#1e40af}.order-summary[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   .status.cancelled[_ngcontent-%COMP%]{background-color:#fee2e2;color:#b91c1c}.alert[_ngcontent-%COMP%]{border-radius:8px;padding:1rem;font-size:1rem;text-align:center;max-width:500px;margin:2rem auto}.alert.alert-danger[_ngcontent-%COMP%]{background-color:#fee2e2;color:#b91c1c;border:1px solid #f87171}.alert.alert-info[_ngcontent-%COMP%]{background-color:#e0f2fe;color:#1e40af;border:1px solid #60a5fa;display:flex;align-items:center;justify-content:center;gap:.5rem}.btn-close[_ngcontent-%COMP%]{filter:opacity(.6);transition:filter .3s ease}.btn-close[_ngcontent-%COMP%]:hover{filter:opacity(1)}@media (max-width: 768px){.order-title[_ngcontent-%COMP%]{font-size:1.75rem}.card-title[_ngcontent-%COMP%]{font-size:1.5rem}.card-body[_ngcontent-%COMP%]{padding:1.5rem}.order-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .order-summary[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .item-list[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{font-size:.95rem}}@media (max-width: 576px){.container[_ngcontent-%COMP%]{padding:1.5rem .5rem}.order-card[_ngcontent-%COMP%]{margin:0 .5rem}}"]})};export{j as ClientOrderView};
