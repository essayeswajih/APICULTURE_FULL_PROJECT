import{w as l,x as g}from"./chunk-RBCITXQ2.js";import{cb as n,d,db as p,eb as u,h as t,m as h,p as o}from"./chunk-ORBCNBE3.js";var m=(s=>(s.PENDING="pending",s.PROCESSING="processing",s.SHIPPED="shipped",s.DELIVERED="delivered",s))(m||{}),c=class a{constructor(r,e){this.http=r;this.authService=e}apiUrl=l.apiUrl;getAuthHeaders(){let r=this.authService.getToken();if(!r)throw new Error("No authentication token found");return new n({Authorization:`Bearer ${r}`})}handleError(r){let e="An unknown error occurred!";return r.error instanceof ErrorEvent?e=`Error: ${r.error.message}`:e=`Error ${r.status}: ${r.error?.detail||r.message}`,d(()=>new Error(e))}getCategories(){return this.http.get(`${this.apiUrl}/categories`).pipe(t(this.handleError))}addCategory(r){return this.http.post(`${this.apiUrl}/categories`,r,{headers:this.getAuthHeaders()}).pipe(t(this.handleError))}updateCategory(r,e){return this.http.put(`${this.apiUrl}/categories/${r}`,e,{headers:this.getAuthHeaders()}).pipe(t(this.handleError))}deleteCategory(r){return this.http.delete(`${this.apiUrl}/categories/${r}`,{headers:this.getAuthHeaders()}).pipe(t(this.handleError))}getProducts(r,e){let i=new p;return r&&(i=i.set("category",r)),e&&(i=i.set("sortBy",e)),this.http.get(`${this.apiUrl}/products`,{params:i}).pipe(t(this.handleError))}getProductById(r){return this.http.get(`${this.apiUrl}/products/${r}`).pipe(t(this.handleError))}addProduct(r){return this.http.post(`${this.apiUrl}/products`,r,{headers:this.getAuthHeaders()}).pipe(t(this.handleError))}updateProduct(r,e){return this.http.put(`${this.apiUrl}/products/${r}`,e,{headers:this.getAuthHeaders()}).pipe(t(this.handleError))}deleteProduct(r){return this.http.delete(`${this.apiUrl}/products/${r}`,{headers:this.getAuthHeaders()}).pipe(t(this.handleError))}getOrders(){return this.http.get(`${this.apiUrl}/orders`,{headers:this.getAuthHeaders()}).pipe(t(this.handleError))}updateOrderStatus(r,e){return this.http.put(`${this.apiUrl}/orders/orderStatus/${r}`,{status:e},{headers:this.getAuthHeaders()}).pipe(t(this.handleError))}updateOrde(r,e){return this.http.put(`${this.apiUrl}/orders/${r}`,{order:e},{headers:this.getAuthHeaders()}).pipe(t(this.handleError))}createOrder(r){return this.http.post(`${this.apiUrl}/orders`,r,{headers:this.getAuthHeaders()}).pipe(t(this.handleError))}deleteOrder(r){return this.http.delete(`${this.apiUrl}/orders/${r}`,{headers:this.getAuthHeaders()}).pipe(t(this.handleError))}getUser(){return this.http.get(`${this.apiUrl}/auth/users/me`,{headers:this.getAuthHeaders()}).pipe(t(this.handleError))}getOrderByCode(r){return this.http.get(`${this.apiUrl}/orders/orderCode/${r}`,{headers:this.getAuthHeaders()}).pipe(t(this.handleError))}static \u0275fac=function(e){return new(e||a)(o(u),o(g))};static \u0275prov=h({token:a,factory:a.\u0275fac,providedIn:"root"})};export{m as a,c as b};
